<!DOCTYPE html>
<html lang="en-us">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport"
			content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>rolldate demo</title>
		<!-- bootstrap.css is only used as a demonstration -->
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
		<style type="text/css">
			h1 {
				font-size: 30px;
			}

			.form-control[readonly] {
				background: none;
			}

			@media(max-width: 414px) {
				.form-control {
					font-size: 12px;
				}
			}

			@media(max-width: 360px) {
				.form-control {
					font-size: 10px;
					padding: 0 5px;
				}
			}

			@media(max-width: 320px) {
				.col-xs-6 {
					padding: 0 5px;
				}
			}
		</style>
	</head>

	<body>
		<div class="jumbotron">
			<div class="container">
				<h1>Rolldate multi-format, powerful mobile date selection plugin</h1>
				<p>This is the new version of rolldate 3.0, using better-scroll to replace iscroll, please click for the old
					version
					<a href="https://weijhfly.github.io/rolldate-index2.html">return to old version</a>
				</p>
			</div>
		</div>
		<div class="container">
			<h4><strong>Supported formats: (no limit)</strong></h4>
			<p><strong>Rules: year-YYYY month-MM day-DD hour-hh minute-mm second-ss separated by /, -, space, :, can be
					combined freely</strong></p>
			<p>Example: YYYY-MM, YYYY-MM-DD, YYYY-MM-DD hh:mm, YYYY-MM-DD hh:mm:ss, YYYY, MM, DD, hh:mm, hh:mm:ss „ÄÅYYYY-MM-DD
				hh, hh, mm, ss, YYYY/DD...</p>
			<div class="row">
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group1-1" placeholder="YYYY-MM">
					</div>
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group1-2" placeholder="YYYY-MM-DD">
					</div>
				</div>
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group1-3" placeholder="YYYY-MM-DD hh">
					</div>
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group1-4" placeholder="YYYY-MM-DD hh:mm">
					</div>
				</div>
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group1-5" placeholder="YYYY-MM-DD hh:mm:ss">
					</div>
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group1-6" placeholder="hh:mm">
					</div>
				</div>
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group1-7" placeholder="hh:mm:ss">
					</div>
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group1-8" placeholder="YYYY">
					</div>
				</div>
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group1-9" placeholder="MM">
					</div>
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group1-10" placeholder="DD">
					</div>
				</div>
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group1-11" placeholder="hh">
					</div>
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group1-12" placeholder="mm">
					</div>
				</div>
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group1-13" placeholder="ss">
					</div>
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group1-14" placeholder="YYYY/DD">
					</div>
				</div>
			</div>

			<h4><strong>Callback function:</strong></h4>
			<p>init, moveEnd, confirm, cancel</p>
			<div class="row">
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group2-1" placeholder="complete example">
					</div>
				</div>
				<h5 class="col-xs-12">init return false can prevent the plugin from running</h5>
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group2-2" placeholder="init">
					</div>
				</div>
				<h5 class="col-xs-12">confirm return false prevents the plugin from running, return other values can modify the
					date display</h5>
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group2-3" placeholder="confirm date modified">
					</div>
				</div>
			</div>

			<h4><strong>Custom Language</strong></h4>
			<p>lang</p>
			<div class="row">
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group3-1" placeholder="lang">
					</div>
				</div>
			</div>

			<h4><strong>Set default dates</strong></h4>
			<p>value</p>
			<div class="row">
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group4-1" placeholder="set default date">
					</div>
				</div>
			</div>

			<h4><strong>el pass dom object</strong></h4>
			<div class="row">
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group5-1" placeholder="el pass dom object">
					</div>
				</div>
			</div>

			<h4><strong>minute interval</strong></h4>
			<div class="row">
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group6-1" placeholder="minute interval 5">
					</div>
				</div>
			</div>
			<h4><strong>Use native click</strong></h4>
			<div class="row">
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group7-1" placeholder="trigger:'click'">
					</div>
				</div>
			</div>
			<h4><strong>Do not pass el</strong></h4>
			<div class="row">
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group9-1" placeholder="do not pass el">
					</div>
				</div>
			</div>
			<h4><strong>Other examples</strong></h4>
			<div class="row">
				<div class="form-group clearfix">
					<div class="col-xs-6">
						<input readonly class="form-control" type="text" id="date-group8-1"
							placeholder="cannot be less than the current date">
					</div>
				</div>
			</div>
		</div>
		<script>
			window.onload = function () {

				// Format
				new Rolldate({
					el: '#date-group1-1',
					format: 'MM-YYYY',
					beginYear: 2000,
					endYear: 2100
				})
				new Rolldate({
					el: '#date-group1-2',
					format: 'YYYY-MM-DD',
					beginYear: 2000,
					endYear: 2100
				})
				new Rolldate({
					el: '#date-group1-3',
					format: 'YYYY-MM-DD hh'
				})
				new Rolldate({
					el: '#date-group1-4',
					format: 'YYYY-MM-DD hh:mm',
					beginYear: 2000,
					endYear: 2100
				})
				new Rolldate({
					el: '#date-group1-5',
					format: 'YYYY-MM-DD hh:mm:ss',
					beginYear: 2000,
					endYear: 2100
				})
				new Rolldate({
					el: '#date-group1-6',
					format: 'hh:mm'
				})
				new Rolldate({
					el: '#date-group1-7',
					format: 'hh:mm:ss'
				})
				new Rolldate({
					el: '#date-group1-8',
					format: 'YYYY',
					beginYear: 2000,
					endYear: 2100
				})
				new Rolldate({
					el: '#date-group1-9',
					format: 'MM'
				})
				new Rolldate({
					el: '#date-group1-10',
					format: 'DD'
				})
				new Rolldate({
					el: '#date-group1-11',
					format: 'hh'
				})
				new Rolldate({
					el: '#date-group1-12',
					format: 'mm'
				})
				new Rolldate({
					el: '#date-group1-13',
					format: 'ss'
				})
				new Rolldate({
					el: '#date-group1-14',
					format: 'YYYY/DD'
				})
				/* Callback
				 * tips:	When used in vue and other mvvm frameworks, just modify the data bound by v-model in confirm
				 */
				new Rolldate({
					el: '#date-group2-1',
					format: 'YYYY-MM-DD',
					beginYear: 2000,
					endYear: 2100,
					monthNameLength: 'full',
					init: function () {
						console.log('The plugin starts triggering');
					},
					moveEnd: function (scroll) {
						console.log(scroll)
						console.log('end of scrolling');

					},
					confirm: function (date) {
						console.log(date)
						console.log('OK button fires');
					},
					cancel: function () {
						console.log('Plugin run canceled');
					},
					lang: {
						title: 'custom title',
						cancel: 'Cancel',
						confirm: 'Confirm',
						year: '',
						month: '',
						day: '',
						hour: '',
						min: '',
						sec: ''
					}
				})
				new Rolldate({
					el: '#date-group2-2',
					format: 'YYYY-MM-DD',
					beginYear: 2000,
					endYear: 2100,
					init: function () {
						if (1 == 1) {
							console.log('prevent the plugin from continuing');
							return false;
						}
					}
				})
				new Rolldate({
					el: '#date-group2-3',
					format: 'MM-DD-YYYY hh:mm',
					beginYear: 2000,
					endYear: 2100,
					confirm: function (date) {
						let input = "MM, DD YYYY hh:mm";
						let possibleFormats = [
							{ "format": "MM, DD YYYY", "separatorRegex": /[\s,]+/g },
							{ "format": "MM DD, YYYY", "separatorRegex": /[\s,]+/g },
							{ "format": "YYYY MM DD", "separatorRegex": /[\s]+/g },
							{ "format": "MM DD YYYY", "separatorRegex": /[\s]+/g },
							{ "format": "DD MM YYYY", "separatorRegex": /[\s]+/g },
							{ "format": "YYYY-DD-MM", "separatorRegex": /[\s-]+/g },
							{ "format": "MM-DD-YYYY", "separatorRegex": /[\s-]+/g },
							{ "format": "DD-MM-YYYY", "separatorRegex": /[\s-]+/g },
							{ "format": "YYYY/DD/MM", "separatorRegex": /[\s\/]+/g },
							{ "format": "MM/DD/YYYY", "separatorRegex": /[\s\/]+/g },
							{ "format": "DD/MM/YYYY", "separatorRegex": /[\s\/]+/g },
							{ "format": "YYYY.MM.DD", "separatorRegex": /[\s\.]+/g },
							{ "format": "MM.DD.YYYY", "separatorRegex": /[\s\.]+/g },
							{ "format": "DD.MM.YYYY", "separatorRegex": /[\s\.]+/g }
						];

						// Find a format contained in the input string
						let selectedFormat = possibleFormats.find(format => input.includes(format.format));

						if (selectedFormat) {
							let separators = selectedFormat.format.match(selectedFormat.separatorRegex);
							let separator1 = separators[0];
							let separator2 = separators[1];
							return date.replace(/-/, separator1).replace(/-/, separator2);
						}

						return date;
					}
				})
				// custom language
				var lang = {
					title: 'custom title',
					cancel: 'Cancel',
					confirm: 'Confirm',
					year: 'Year',
					month: 'month',
					day: 'day',
					hour: 'hour',
					min: 'minute',
					sec: 'seconds'
				};
				// If a value has not been modified, it can not be passed the same as above var lang = {title:'custom title'} allows to pass an empty string
				new Rolldate({
					el: '#date-group3-1',
					format: 'YYYY-MM-DD',
					beginYear: 2000,
					endYear: 2100,
					lang: lang
				})

				// Set default date for internal use document.getElementById('date').bindDate = new Date('2019/05/13');
				new Rolldate({
					el: '#date-group4-1',
					format: 'YYYY-MM-DD',
					beginYear: 2000,
					endYear: 2100,
					value: '2017-10-21' //or 2017-10-21 23:52:50
				})

				// el Pass dom object, only support single
				new Rolldate({
					el: document.getElementById('date-group5-1'),
					format: 'YYYY-MM-DD',
					beginYear: 2000,
					endYear: 2100
				})

				// minutes separated by the specified number
				new Rolldate({
					el: '#date-group6-1',
					format: 'hh:mm',
					minStep: 5
				})
				// Use native click
				new Rolldate({
					el: '#date-group7-1',
					trigger: 'click'
				})
				// do not pass el
				var el = document.getElementById('date-group9-1');
				el.addEventListener('click', function () {
					rd.show();
				})
				var rd = new Rolldate({
					confirm: function (date) {
						el.value = date;
					}
				})

				// other examples
				//date judgment
				new Rolldate({
					el: '#date-group8-1',
					format: 'YYYY-MM-DD',
					beginYear: 2000,
					endYear: 2100,
					confirm: function (date) {
						var d = new Date(),
							d1 = new Date(date.replace(/\-/g, "\/")),
							d2 = new Date(d.getFullYear() + '/' + (d.getMonth() + 1) + '/' + d.getDate()); //If it is not in the format of 'YYYY-MM-DD', another adjustment is required

						if (d1 < d2) {
							alert('Cannot be less than the current date');
							return false;
						}
					}
				})
			}
		</script>
		<script type="text/javascript" src="rolldate.min.js"></script>
	</body>

</html>